<!doctype html>
<html lang="es">
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <head>
    <meta charset="utf-8">
	<title>Documento sin título</title>
	<link href="css/normalize.css" rel="stylesheet" type="text/css">
	<link href="css/style.css" rel="stylesheet" type="text/css">
	<link href="css/menu-hamburguesa.css" rel="stylesheet" type="text/css">
	 
</head>

<body>
	<header class="header" id="header">
		<!--seccion superior de la cabecera-->
		<div class="header-top">
		<!--logo-->
			<div class="logo-container">
				<a href="#" class="logo">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 336.35 289.74"><g id="Capa_2" data-name="Capa 2"><g id="Capa_1-2" data-name="Capa 1"><path class="cls-1" d="M303.21,177.87c-2.07-.07-4.15,0-6.23,0H48.43c-1.89,0-3.78,0-5.66-.05-5.39-.21-8.22-3.18-8.94-8.38-1.66-12-8.89-18.21-19.61-16.83-9.73,1.26-15.53,10.2-14,21.58,3,22.06,20.61,37.43,43.35,37.45q113.81.12,227.61,0h7.87l1.42,1.65c-6.07,9-11.82,18.19-18.29,26.87-8.24,11-19.65,15.75-33.45,15.69-40.57-.17-81.15,0-121.73-.09a54.47,54.47,0,0,1-9.55-.79c-10.59-2-18.22-8.35-24.9-16.46-7-8.51-11.07-7.61-13.9-7.66-6.3-.12-11.38,4.52-14.31,7.83A14.9,14.9,0,0,0,41,247.16a15.06,15.06,0,0,0,3.27,10.11c2,2.27,3.93,4.59,5.9,6.87,14.12,16.36,32.18,25.06,53.59,25.29,42.83.47,85.68.35,128.52,0,19.27-.14,36.26-7.11,49.77-21,18.95-19.48,31.37-42.78,38-69.09C323,187.84,315.15,178.26,303.21,177.87Z"/><path class="cls-1" d="M336.11,143.64a42.5,42.5,0,0,0-42.23-37.37c-24.72-.13-49.44,0-74.16,0H56c2.53-4.84,4.36-8.75,6.56-12.44C106,20.61,208.34,13,263.31,78.81c7.55,9,17.31,10.69,25.19,4.26s8.26-17,.49-26C248.42,10.43,197.23-8.79,136.86,3.74,74.15,16.76,34.1,56.3,16.57,118.09c-3.22,11.33,4,21,15.58,21.85,2.62.19,5.28.06,7.92.06H289.73c10,0,11.32,1.14,13,10.73s9,15.44,18.37,14.66C331.49,164.52,337.64,155.63,336.11,143.64Z"/></g></g></svg>
					<span class="logo-label">Menu Hamburguer</span>
				</a> 
				<a href="#" class="menu-toggle" id="menuOpen"><div class="menu-icon"><span class="line"></span><span class="line"></span><span class="line"></span></div><span>Menú</span></a>
			</div>
		</div>
		<!-- fin header-top -->
		<div class="header-menus cerrado" id="header-menus">
			<a href="#" class="logo">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 336.35 289.74"><g id="Capa_2" data-name="Capa 2"><g id="Capa_1-2" data-name="Capa 1"><path class="cls-1" d="M303.21,177.87c-2.07-.07-4.15,0-6.23,0H48.43c-1.89,0-3.78,0-5.66-.05-5.39-.21-8.22-3.18-8.94-8.38-1.66-12-8.89-18.21-19.61-16.83-9.73,1.26-15.53,10.2-14,21.58,3,22.06,20.61,37.43,43.35,37.45q113.81.12,227.61,0h7.87l1.42,1.65c-6.07,9-11.82,18.19-18.29,26.87-8.24,11-19.65,15.75-33.45,15.69-40.57-.17-81.15,0-121.73-.09a54.47,54.47,0,0,1-9.55-.79c-10.59-2-18.22-8.35-24.9-16.46-7-8.51-11.07-7.61-13.9-7.66-6.3-.12-11.38,4.52-14.31,7.83A14.9,14.9,0,0,0,41,247.16a15.06,15.06,0,0,0,3.27,10.11c2,2.27,3.93,4.59,5.9,6.87,14.12,16.36,32.18,25.06,53.59,25.29,42.83.47,85.68.35,128.52,0,19.27-.14,36.26-7.11,49.77-21,18.95-19.48,31.37-42.78,38-69.09C323,187.84,315.15,178.26,303.21,177.87Z"/><path class="cls-1" d="M336.11,143.64a42.5,42.5,0,0,0-42.23-37.37c-24.72-.13-49.44,0-74.16,0H56c2.53-4.84,4.36-8.75,6.56-12.44C106,20.61,208.34,13,263.31,78.81c7.55,9,17.31,10.69,25.19,4.26s8.26-17,.49-26C248.42,10.43,197.23-8.79,136.86,3.74,74.15,16.76,34.1,56.3,16.57,118.09c-3.22,11.33,4,21,15.58,21.85,2.62.19,5.28.06,7.92.06H289.73c10,0,11.32,1.14,13,10.73s9,15.44,18.37,14.66C331.49,164.52,337.64,155.63,336.11,143.64Z"/></g></g></svg>
				<span class="logo-label">Menu Hamburguer</span>
			</a> 
		  <div class="header-menu-top">
		    <!--buscador-->
		    <div class="menu-buscador">
		      <input type="text" placeholder="Buscar...">
	        </div>
		    <!--usuario-->
			<div class="user-icon">
				<a href="#">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44.84 46.16"><g id="Capa_2" data-name="Capa 2"><g id="obj"><path class="cls-1" d="M27.23,24A12.5,12.5,0,0,0,22.42,0a12.5,12.5,0,0,0-4.8,24A22.71,22.71,0,0,0,0,46.16H2.31A20.29,20.29,0,0,1,22.42,25.74,20.3,20.3,0,0,1,42.54,46.16h2.3A22.7,22.7,0,0,0,27.23,24ZM12.41,12.48a10,10,0,1,1,20,0,10,10,0,1,1-20,0Z"/></g></g></svg>
				</a>
			</div>	
		    <!--carrito-->
			<div class="cart-icon">
				<a href="#">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 46.16 40.48"><g id="Capa_2" data-name="Capa 2"><g id="obj"><path class="cls-1" d="M39,0,37,7.71H0L6.29,31.22H33.13L39,9.16h0l0-.08.36-1.37h0l1.42-5.4h5.33V0ZM31.36,28.91H8.06L3,10H36.42Z"/><path class="cls-1" d="M13.29,33.71a3.39,3.39,0,1,0,3.39,3.39A3.4,3.4,0,0,0,13.29,33.71Zm0,4.46a1.08,1.08,0,1,1,1.08-1.07A1.08,1.08,0,0,1,13.29,38.17Z"/><path class="cls-1" d="M26.14,33.71a3.39,3.39,0,1,0,3.39,3.39A3.4,3.4,0,0,0,26.14,33.71Zm0,4.46a1.08,1.08,0,1,1,1.08-1.07A1.08,1.08,0,0,1,26.14,38.17Z"/></g></g></svg>
				</a>
				<span class="cart-label">2</span>
			</div>
		    
		    </div> 
		  <!--menu-->
		  <div class="menu-burguer">
		    <nav id="site-navigation" class="main-navigation">
		      <div id="primary-menu" >
		        <ul class="menu">
		          <li class="page_item"><a href="#">Blog</a></li>
		          <li class="page_item"><a href="#">Front Page</a></li>
		          <li class="page_item"><a href="#">Sample Page</a></li>
		          <li class="page_item"><a href="#">About The Tests</a>
		            <ul class="menu">
		              <li class="page_item "><a href="#">Page Image Alignment</a></li>
		              <li class="page_item"><a href="#">Page Markup And Formatting</a></li>
		              <li class="page_item"><a href="#">Clearing Floats</a></li>
		              <li class="page_item"><a href="#">Page with comments</a></li>
		              <li class="page_item"><a href="#">Page with comments disabled</a></li>
		              </ul>
		            </li>
		          <li class="page_item"><a href="#">Level 1</a>
		            <ul class="menu">
		              <li class="page_item"><a href="#">Level 1a</a>
		                <ul class="menu ">
		                  <li class="page_item"><a href="#">Level 1a1</a></li>
		                  <li class="page_item"><a href="#">Level 1a2</a></li>
		                  <li class="page_item"><a href="#">Level 1a3</a>
							<ul class="menu ">
								<li class="page_item"><a href="#">Level 1a31</a></li>
								<li class="page_item"><a href="#">Level 1a32</a></li>
								<li class="page_item"><a href="#">Level 1a33</a></li>
								</ul>
							</li>
		                  </ul>
		                </li>
		              <li class="page_item"><a href="#">Level 1b</a></li>
		              <li class="page_item"><a href="#">Level 1c</a></li>
		              </ul>
		            </li>
		          <li class="page_item"><a href="#">Lorem Ipsum</a></li>
		          <li class="page_item"><a href="#">Page A</a></li>
		          <li class="page_item"><a href="#">Page B</a></li>
					
	            </ul>
	          </div>
	        </nav>
	      </div>
		  <!-- fin menu-burguer -->
		  
		  <div class="header-menu-pie">
			<!--social-->
		    <div class="header-menu-social">
				<a href="#"><svg class="f0hiXs2f jCt853Wn" tabindex="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" role="img" aria-label="Pinterest"><path d="M16,0C7.2,0,0,7.2,0,16c0,8.8,7.2,16,16,16c8.8,0,16-7.2,16-16C32,7.2,24.8,0,16,0z M17.6,21.5 c-1.3,0-2.5-0.7-2.9-1.4c0,0-0.7,2.6-0.8,3.2c-0.5,1.8-2,3.6-2.1,3.8c-0.1,0.1-0.3,0.1-0.3-0.1c0-0.2-0.4-2.5,0-4.4l1.5-6.3 c0,0-0.4-0.7-0.4-1.8c0-1.7,1-3,2.3-3c1.1,0,1.6,0.8,1.6,1.7c0,1.1-0.7,2.6-1,4.1c-0.3,1.2,0.6,2.2,1.9,2.2c2.2,0,3.8-2.8,3.8-6.1 c0-2.5-1.8-4.4-4.9-4.4c-3.6,0-5.8,2.6-5.8,5.5c0,1,0.3,1.7,0.8,2.3c0.2,0.3,0.2,0.4,0.2,0.6L11,18.3c-0.1,0.3-0.3,0.4-0.6,0.3 C8.8,17.9,8,16.2,8,14.2C8,10.9,10.8,7,16.5,7C21,7,24,10.2,24,13.6C24,18.1,21.4,21.5,17.6,21.5z"></path></svg></a> - 
				<a href="#"><svg class="f0hiXs2f jCt853Wn" tabindex="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" role="img" aria-label="Twitter"><path d="M16,0C7.2,0,0,7.2,0,16c0,8.8,7.2,16,16,16s16-7.2,16-16C32,7.2,24.8,0,16,0z M24.1,12.7l0,0.5 c0,5-3.9,10.8-11.1,10.8c-2.2,0-4.3-0.6-6-1.7c0.3,0,0.6,0.1,0.9,0.1c1.8,0,3.5-0.6,4.8-1.6c-1.7,0-3.1-1.1-3.6-2.6 c0.2,0,0.5,0.1,0.7,0.1c0.4,0,0.7,0,1-0.1c-1.8-0.3-3.1-1.9-3.1-3.7v0c0.5,0.3,1.1,0.5,1.8,0.5c-1-0.7-1.7-1.8-1.7-3.1 c0-0.7,0.2-1.3,0.5-1.9c1.9,2.3,4.8,3.8,8,4c-0.1-0.3-0.1-0.6-0.1-0.9c0-2.1,1.7-3.8,3.9-3.8c1.1,0,2.1,0.5,2.8,1.2 c0.9-0.2,1.7-0.5,2.5-0.9c-0.3,0.9-0.9,1.6-1.7,2.1c0.8-0.1,1.5-0.3,2.2-0.6C25.5,11.5,24.8,12.2,24.1,12.7z"></path></svg></a> - 
				<a href="#"><svg class="f0hiXs2f jCt853Wn" tabindex="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" role="img" aria-label="Facebook"><path d="M16,0C7.2,0,0,7.2,0,16c0,8.8,7.2,16,16,16c8.8,0,16-7.2,16-16C32,7.2,24.8,0,16,0z M20,11h-2.1 c-0.6,0-0.9,0.5-0.9,1.1V13h2.9l-0.5,3H17v8h-3v-8h-2v-3h2v-1.5h0C14,9.7,14.6,8.1,17.6,8v0H20V11z"></path></svg></a></div>
		    <!--legal-->
		    <div class="header-menu-legal">Titin colomer 2021 &copy;</div>
          </div>
		</div>
    </header>
	<div class="capa-off off" id="capa-off"></div>
<div class="body-content">
  <h1>menu hamburguesa jabascript</h1>
	esto es un menú estilo hamburguesa con submenus hecho con javascript css y html</div>
<script>
		//abrir y cerrar menú principal
		function toggleMenuPpal() {
			const getHeader = document.getElementById("header-menus");
			getHeader.classList.toggle("cerrado")
			const getMenuOpen= document.getElementById("menuOpen");
			getMenuOpen.classList.toggle("cerrado");
			
			//la capa que oscurece el fondo
			const capaOff = document.getElementById("capa-off");
			capaOff.classList.toggle("off")
			capaOff.addEventListener("click",toggleMenuPpal , false);
  		}
		  
		  const cerrarMenu = document.getElementById("menuOpen");
		cerrarMenu.addEventListener("click",toggleMenuPpal , false);	
		
		//funcion para cerrar concualquier clic en el documento

		
		
		//MENU-BURGUER

		//obtenemos todos los objetos que tengan la classe 'menu' 
		let getMenu = document.getElementsByClassName('menu');
		// de ellos obtenemos todos los objetos que tengan dentro alguna classe 'menu' // .menu .menu
		for ( i = 0; i < getMenu.length; i++) {
			getMenu = getMenu[i].getElementsByClassName('menu');
			
			for ( i = 0; i < getMenu.length; i++) {
			// y le añadimos la class 'children' // .menu.children
			getMenu[i].classList.add('children');
}
}

		//obtenemos todos los objetos que tengan la class 'children'  // .menu.children
		const getChildren = document.querySelectorAll('ul.children ');
		//añadimos a su padre la class page_item_has_children
		for ( i = 0; i < getChildren.length; i++) {
			getChildren[i].parentElement.classList.add('page_item_has_children');
		
			
			//camptamos el contenido del li padre para que luego sea el título del submenú
			const getTitulos= getChildren[i].parentElement.innerHTML;
			
			//generamos el li de cerrar el submenú con su título y todo
			const createLi = document.createElement('li');
			createLi.className = 'volver-toggle';
			createLi.innerHTML = '<span class="left-arrow"><img src="img/arrow-left.svg" alt="habrir menú" width="30px" height="30px"></span> ' + getTitulos;
			
			getChildren[i].insertAdjacentElement("afterbegin", createLi);
			
 		}


		//generamos todos los botones de volver de los submenús
			const volver =  document.querySelectorAll('.volver-toggle');
			for ( i=0; i < volver.length ; i++){
				//les añadimos la funcion cerrar al parent element
				volver[i].addEventListener("click", function(){this.parentElement.classList.toggle('active');}, false);
		}

		//obtenemos todos los objetos que tengan la class 'page_item_has_children'  
		const getItemsHasChildren = document.getElementsByClassName('page_item_has_children');
		//añadimos a sus enlaces la clase 'item-link'
		for ( i = 0; i < getItemsHasChildren.length; i++) {
			getItemsHasChildren[i].querySelector('a').className='item-link';
}
		


		//seleccionamos todos los a que hay en los li con class 'page_item_has_children'
		const getItemLink = document.body.querySelectorAll('.item-link');
		//a cada uno de ellos le añadimos el botón de togglear
		for (i = 0; i < getItemLink.length; i++) {
	
			const navArrow = document.createElement('span');
			navArrow.className = 'sub-nav-toggle';
			navArrow.innerHTML = ' <span class="right-arrow"><img src="img/arrow-right.svg" alt="habrir menú" width="20px" height="20px"></span> ';
			getItemLink[i].parentNode.insertBefore(navArrow, getItemLink[i].nextSibling);
		
			if(getItemLink.hasOwnProperty(i)) {
			getItemLink[i].onclick = function() {
				this.parentElement.querySelector('.children').classList.toggle("active");
				}
			}
		}

		//al boton de togglear le añadimos la funcion de cambiar class 'active'
		const getSubNavToogle = document.querySelectorAll('.sub-nav-toggle');

		for( i in getSubNavToogle) {
			if(getSubNavToogle.hasOwnProperty(i)) {
				getSubNavToogle[i].onclick = function() {
					this.parentElement.querySelector('.children').classList.toggle("active");
				}
			}
		} 
	
		
		
start();
window.onresize = start;
function start(){
  
	
		//tamaño del menu hamburguesa
		const tamañoMenuTotal = document.getElementById("site-navigation").clientHeight ;
		let tamañoPantalla = document.querySelector("body").clientHeight ;
		const tamañoBuscador = document.querySelector(".header-menu-top").clientHeight ;
		const tamañoPie = document.querySelector(".header-menu-pie").clientHeight ;
		
		tamañoPantalla  = tamañoPantalla-tamañoBuscador-tamañoPie-2; // 2 para corregir
		
		if(tamañoMenuTotal!=tamañoPantalla){
			//document.getElementById("site-navigation").style.height = tamañoPantallaPx/2 ;
			const canvas = document.getElementById("site-navigation");
			canvas.setAttribute("style", "height:"+tamañoPantalla+"px");
		   }
		}
		
		
		
	</script>
</body>
</html>
